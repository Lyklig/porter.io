"use strict";var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l=function(e,t){if("IMG"===e.tagName){var r=e.parentNode;"PICTURE"===r.tagName&&[].slice.call(r.querySelectorAll("source")).forEach(function(e){for(var r in e.dataset)-1!==t.acceptedDataAttributes.indexOf("data-"+r)&&(e.setAttribute(r,e.dataset[r]),e.removeAttribute("data-"+r))});var a=new Image;if(void 0!==e.dataset.srcset&&(a.srcset=e.dataset.srcset),a.src=e.dataset.src,!0===t.asyncDecodeSupport)a.decode().then(function(){for(var r=0;r<e.attributes.length;r++){var o=e.attributes[r].name,n=e.attributes[r].value;-1===t.ignoredImgAttributes.indexOf(o)&&a.setAttribute(o,n)}e.replaceWith(a)});else for(var o in e.dataset)-1!==t.acceptedDataAttributes.indexOf("data-"+o)&&(e.setAttribute(o,e.dataset[o]),e.removeAttribute("data-"+o))}"VIDEO"===e.tagName&&([].slice.call(e.querySelectorAll("source")).forEach(function(e){for(var r in e.dataset)-1!==t.acceptedDataAttributes.indexOf("data-"+r)&&(e.setAttribute(r,e.dataset[r]),e.removeAttribute("data-"+r))}),e.load()),"IFRAME"===e.tagName&&(e.src=e.dataset.src,e.removeAttribute("data-src"))},yall=function(e){var t={intersectionObserverSupport:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,mutationObserverSupport:"MutationObserver"in window,idleCallbackSupport:"requestIdleCallback"in window,asyncDecodeSupport:"decode"in new Image,ignoredImgAttributes:["data-src","data-srcset","src","srcset"],acceptedDataAttributes:["data-src","data-sizes","data-media","data-srcset"],eventsToBind:[[document,"scroll"],[document,"touchmove"],[window,"resize"],[window,"orientationchange"]]},r=c({lazyClass:"lazy",throttleTime:200,idlyLoad:!1,idleLoadTimeout:100,threshold:200,observeChanges:!1,observeRootSelector:"body",mutationObserverOptions:{childList:!0}},e),a="img."+r.lazyClass+",video."+r.lazyClass+",iframe."+r.lazyClass,o={timeout:r.idleLoadTimeout},n=[].slice.call(document.querySelectorAll(a));if(!0===t.intersectionObserverSupport){var i=new IntersectionObserver(function(e,a){e.forEach(function(e){var i=e.target;!0===e.isIntersecting&&(!0===r.idlyLoad&&!0===t.idleCallbackSupport?requestIdleCallback(function(){l(i,t)},o):l(i,t),i.classList.remove(r.lazyClass),a.unobserve(i),n=n.filter(function(e){return e!==i}))})},{rootMargin:r.threshold+"px 0%"});n.forEach(function(e){return i.observe(e)})}else{var s=function e(){var a=!1;!1===a&&0<n.length&&(a=!0,setTimeout(function(){n.forEach(function(e){e.getBoundingClientRect().top<=window.innerHeight+r.threshold&&e.getBoundingClientRect().bottom>=-r.threshold&&"none"!==getComputedStyle(e).display&&(!0===r.idlyLoad&&!0===t.idleCallbackSupport?requestIdleCallback(function(){l(e,t)},o):l(e,t),e.classList.remove(r.lazyClass),n=n.filter(function(t){return t!==e}))}),a=!1,0===n.length&&!1===r.observeChanges&&t.eventsToBind.forEach(function(t){return t[0].removeEventListener(t[1],e)})},r.throttleTime))};t.eventsToBind.forEach(function(e){return e[0].addEventListener(e[1],s)}),s()}!0===t.mutationObserverSupport&&!0===r.observeChanges&&new MutationObserver(function(e){e.forEach(function(){[].slice.call(document.querySelectorAll(a)).forEach(function(e){-1===n.indexOf(e)&&(n.push(e),!0===t.intersectionObserverSupport?i.observe(e):s())})})}).observe(document.querySelector(r.observeRootSelector),r.mutationObserverOptions)};